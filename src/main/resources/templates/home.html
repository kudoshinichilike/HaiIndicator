<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css">
</head>

<style>

</style>

<body>
<div id="home">
    <div>
        <b-navbar toggleable="lg" type="dark" variant="info">
            <b-navbar-brand href="#"></b-navbar-brand>
            <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

            <b-collapse id="nav-collapse" is-nav>
                <b-navbar-nav>
                    <b-nav-item-dropdown text="Metric" left>
                        <b-dropdown-item @click="onClickTabMetric('hitEgg')">Hit Egg</b-dropdown-item>
                        <b-dropdown-item @click="onClickTabMetric('treasureHunt')">Treasure Hunt
                        </b-dropdown-item>
                    </b-nav-item-dropdown>
                    <b-nav-item @click="onClickTabSearchLog" href="#">Search Log</b-nav-item>
                    <!-- <b-nav-item href="#" disabled>Disabled</b-nav-item> -->
                </b-navbar-nav>
            </b-collapse>
        </b-navbar>
    </div>
</div>

<div v-show="visible" id="view-metric">
    <highcharts v-show="chart1.visible" :options="chart1"></highcharts>
    <highcharts v-show="chart2.visible" :options="chart2"></highcharts>
    <highcharts v-show="chart3.visible" :options="chart3"></highcharts>
    <highcharts v-show="chart4.visible" :options="chart4"></highcharts>
</div>

<div v-show="visible" id="view-search-log">
    <template>
        <b-container fluid>
            <b-form-row>
                <b-col lg="2" class="my-1">
                    <b-input-group prepend="" class="mb-2 mr-sm-2 mb-sm-0">
                        <b-input v-model="inputUserId" :state="stateUserId" :disabled="isSearching"
                                 placeholder="Type userId" type="number"></b-input>
                    </b-input-group>
                </b-col>

                <b-col lg="2" class="my-1">
                    <b-input-group prepend="">
                        <b-input v-model="inputDate" :state="stateInputDate" :disabled="isSearching" placeholder=""
                                 type="date"></b-input>
                    </b-input-group>
                </b-col>

                <b-col lg="1" class="my-1">
                    <b-button @click="onSearchClicked" variant="primary" block :disabled="isSearching">Search
                    </b-button>
                </b-col>

                <b-col lg="2" class="my-1" offset-lg="1">
                    <b-input-group prepend="">
                        <b-input v-model="filter" :disabled="items.length == 0" id="inputFilter"
                                 placeholder="Type to filter"></b-input>
                    </b-input-group>
                </b-col>

                <b-col lg="2" class="my-1">
                    <b-input-group prepend="Per page">
                        <b-form-select v-model="perPage" :disabled="items.length == 0" id="perPageSelect"
                                       :options="pageOptions">
                        </b-form-select>
                    </b-input-group>
                </b-col>

                <b-col lg="2" class="my-1">
                    <b-pagination v-model="currentPage" :total-rows="totalRows" :per-page="perPage"
                                  :sabledid="items.length == 0" align="center" class="my-0">
                    </b-pagination>
                </b-col>
            </b-form-row>

            <b-table small responsive bordered hover show-empty caption-top :busy="isSearching" selectable
                     :select-mode="selectMode" @row-selected="onRowSelected" selected-variant="none" :items="items"
                     :fields="fields" :current-page="currentPage" :per-page="perPage" :filter="filter"
                     @filtered="onFiltered">
                <template slot="table-caption">Row = {{items.length}}</template>
                <div slot="table-busy" class="text-center text-primary my-2">
                    <b-spinner class="align-middle"></b-spinner>
                    <strong>Searching ...</strong>
                </div>
            </b-table>

            <b-modal :id="infoModal.id" :title="infoModal.title" ok-only @hide="onHided">
                <pre>{{ infoModal.content }}</pre>
            </b-modal>
        </b-container>
    </template>
</div>

<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script>
    highcharts = Highcharts
</script>
<script src="https://cdn.jsdelivr.net/npm/highcharts-vue@1.2.0/dist/module/highcharts-vue.js"></script>
<!-- <script th:src="@{/js/home.js}"></script>
<script th:src="@{/js/metric.js}"></script>
<script th:src="@{/js/search.js}"></script> -->

<script src="../static/js/home.js"></script>
<script src="../static/js/metric.js"></script>
<script src="../static/js/search.js"></script>
</body>

</html>